# 구현 진행 문서

## 1. 목적
- 현재 구현 계획, 진행 상황, 향후 작업을 한눈에 확인한다.
- 새로운 작업을 시작하거나 완료할 때마다 본 문서를 업데이트한다.

## 2. 현재 아키텍처 계획 요약
- 정적 웹(`web/`) 구조: `public`(HTML 엔트리), `src`(알고리즘/상태/UI/서비스), `tests`(체크리스트 및 향후 자동화)로 구성.
- 주 알고리즘: LCA 기반 경로 재구성, 체크포인트 스냅샷 저장/복원, 보존 영역 분리.
- 프론트엔드 패턴: Flux-lite 단방향 데이터 흐름, Presenter/Container 분리, Services/Storage 레이어로 부작용 격리.

## 3. 완료된 작업(레거시 유지)
- ✅ 폴더 구조 생성 및 README 배치.
- ✅ 1단계 목업(정적 HTML/CSS/JS)으로 트리 클릭 → 경로/대화 갱신 흐름 검증.
- ✅ 알고리즘 모듈 분리(LCA, 경로 재구성) 및 `app.js` 연동.
- ✅ 커스텀 스토어와 체크포인트 서비스를 통합하여 초기 상담 경로 렌더링, 저장/복원 동작을 구현.
- ✅ 우측 트리를 분기 리스트 UI로 대체하고 스테이지 선택기·메시지 타임라인을 재정렬하여 진로 분기별 대화 흐름을 명확히 표현.

## 4. 현재 작업
- 🧪 수동 스모크 테스트 항목을 실행하며 UI/상태 전환이 요구사항을 충족하는지 검증.
- 🧩 체크포인트 중복 저장·복원 예외 케이스를 수집하고 사용자 메시지 개선 방안을 정리.
- 🛠️ 초기 경로 미노출 및 체크포인트 미생성 버그 수정 후 회귀 재확인.

### 4.1 수동 테스트 항목 (현재 화면 기준)
- [ ] 초기 로드 시 기본 상담 경로가 스테이지 타임라인과 분기 리스트 모두에서 일관되게 표시되는지 확인.
- [ ] 임의 분기를 선택하면 활성 경로 강조와 대화 패널 헤더가 함께 갱신되는지 확인.
- [ ] "체크포인트 저장" 버튼을 누르면 리스트에 새로운 항목이 생성되고, 최근 동작 상태 메시지가 업데이트되는지 확인.
- [ ] 체크포인트 항목을 선택 시 해당 분기 경로가 복원되고 대화·분기 리스트 강조가 동시에 변경되는지 확인.
- [ ] 같은 노드에 대해 중복으로 저장했을 때 식별자/타임스탬프로 구분되어 목록이 유지되는지 확인.

## 5. 다음 작업
1. 수동 스모크 테스트 수행 결과를 기록하고 발견 이슈에 대한 대응 계획 수립.
2. 실행 안내 README 작성 및 macOS 기준 수동 확인 절차 기록.
3. 체크포인트 예외 처리(중복 경로, 초기화) 및 UX 피드백 메시지 보강.

향후 작업을 완료하거나 새로운 계획이 생기면 본 문서를 갱신한다.
