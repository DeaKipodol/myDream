# algorithms 디렉터리 역할

상담 트리에서 경로를 계산하는 순수 함수를 모아두는 영역이다.

## 책임 구분
- 프로그래머 관점: LCA(Lowest Common Ancestor) 계산, 경로 재구성(prefix/suffix) 유틸리티, 노드 메타 계산 등을 구현한다. 모든 함수는 순수 함수로 유지해 테스트와 교체 전략을 쉽게 한다.
- 학생 관점: 상담사가 어느 갈림길에서 다른 길로 넘어가야 하는지 계산하는 수학 공식이 여기 있다. 입력으로 트리 정보와 선택한 노드를 받으면, 어떤 경로를 따라가야 하는지 알려준다.

## 시스템에서의 필요성
- 정확한 경로 계산이 없으면 `src/state`가 활성 경로를 갱신하지 못하고, UI도 올바르게 표시되지 않는다.
- 순수 함수로 구현하면 테스트와 성능 개선(Binary Lifting 등)이 간단해진다.

## 다른 폴더와의 상호작용
- `src/state`: 리듀서가 경로 전환이 필요할 때 이 폴더의 함수를 호출해 결과를 상태에 반영한다.
- `src/services`: 체크포인트 복구 시 저장된 경로를 검증하거나 재계산할 때 알고리즘 유틸리티를 사용한다.
- `web/tests`: 알고리즘 모듈을 직접 import하여 경계 사례 테스트를 수행한다.

## 구현 가이드
- 함수는 입력 검증을 `models`에서 정의한 타입에 의존하고, DOM 또는 전역 상태에 접근하지 않는다.
- 복잡도에 대한 주석과 교체 조건을 남겨 전략 패턴 전환 시 참조한다.
